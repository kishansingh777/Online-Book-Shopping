<!DOCTYPE html>
<html lang="en">

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-alpha1/html2canvas.js">
  </script>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Invoice</title>
  <link rel="stylesheet" href="/home/index.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link
    href="https://fonts.googleapis.com/css2?family=Archivo:wght@300;500&family=Poppins:ital,wght@0,100;0,200;0,300;0,700;1,100&display=swap"
    rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
    integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
    crossorigin="anonymous"></script>

  <link
    href="https://fonts.googleapis.com/css2?family=Archivo:wght@300;500&family=Poppins:ital,wght@0,100;0,200;0,300;0,700;1,100&display=swap"
    rel="stylesheet">
  <style>
    .cod-order-container-1 {
      width: 80%;
      margin-left: 25px;
      margin-bottom: 10px;
      display: flex;
      justify-content: space-between;
    }

    .order-id-h5 {
      display: inline-block;
      font-size: 1rem;
    }

    .payment-status-h5 {
      display: inline-block;
      font-size: 1rem;
    }

    .payment-mode-h5 {
      display: inline-block;
      font-size: 1rem;
    }

    .date-status-h5 {
      display: inline-block;
      font-size: 1rem;
    }

    .amount-cont {
      flex-basis: 230px;
    }

    .product-details-title-h4 {
      width: 80%;
      margin-left: 25px;
    }

    .cod-order-product-container {
      width: 80%;
      margin-left: 25px;
      margin-bottom: 10px;

    }

    .cod-order-product-container-1 {

      width: 80%;
      margin-bottom: 8px;
      display: flex;
      justify-content: space-between;

    }

    .view1 {
     margin: 25px auto 25px auto;
      width: 120px;
    }

    .best-seller-viewall1 {
      padding: 12px 16px;
      background-color: black;
      color: white;
      border-radius: 7px;
    }

    .pdf-generate-cont {
      display: flex;
      justify-content: space-between;
      width: 115px;
      margin: 10px auto 10px auto;

      padding: 9px 16px;
      background-color: black;
      color: white;
      border-radius: 7px;
    }

    .Pdf {
      margin-top: 5%;
      width: 150px;
    }

    .pdf-button {
      padding: 10px 16px;
      background-color: black;
      color: white;
      border-radius: 7px;
    }
  </style>
</head>

<body>

  <div>
    <div class="welcome-msg" style="background-color: rgb(255, 118, 118);text-align: center;color:white">
      <p>
        <h7><b>Booksella</b></h7>
      </p>
    </div>
    <!--   <img src=" /home/cart-icon2.png" alt=""> -->
    <!--       <h2 style="background-color: white;margin-left: 525px; box-shadow: 0px 0px 15px black; text-align: center; width: 21.5%;padding: 10px;margin-top: 80px;margin-bottom: 30px;border: solid black 1px;">USER DETAILS</h2>
    -->
    <div class="container"
      style="background-color: rgb(255, 255, 255);box-shadow: 0px 0px 15px black;border-radius: 0%; margin: 0%;  width: 60%;margin-bottom: 1px; ;margin-top: 70px;margin-left: 275px; border: solid black 1px; padding-bottom: 25px; border-radius: 8px; ">
        <div id="convert" style="background-color: white;">
      <div class="inputs" style="text-align: center;color:red">
        <label class="form-label" for="name" style="text-align: center;"><b>
            <h1>INVOICE</h1>
          </b></label>
      </div>
      <br><br>






      <div class="cod-order-container-1">
        <div>
          <label for="" class="">ORDER-ID:</label>
          <h5 class="order-id-h5">
            <%= orderId %>
          </h5>
        </div>

        <div class="payment-status-cont">
          <label for="" class="">ORDER STATUS:</label>
          <h5 class="payment-status-h5">
            <%= paymentstatus %>
          </h5>
        </div>

      </div>

      <div class="cod-order-container-1">
        <div>
          <label for="" class="">PAYMENT MODE:</label>
          <h5 class="payment-mode-h5">
            <%= paymentmode %>
          </h5>
        </div>

        <div class="amount-cont">
          <label for="" class="">AMOUNT:</label>
          <h5 class="date-status-h5">
            <%= amount %>
          </h5>
        </div>

      </div>

      <div class="cod-order-container-1">
        <div>
          <label for="" class="">DATE & TIME:</label>
          <h5 class="payment-mode-h5">
            <%= date %>
          </h5>
        </div>

      </div>

      <div class="cod-order-container-1">
        <div>
          <label for="" class="">Email:</label>
          <h5 class="payment-mode-h5">
            <%= email %>
          </h5>
        </div>

      </div>

      <div class="cod-order-container-1">
        <div>
          <label for="" class="">RESPONSE MESSAGE:</label>
          <h5 class="payment-mode-h5">
            <%= respmsg %>
          </h5>
        </div>

      </div>

      <div class="cod-order-container-1">
        <div>
          <label for="" class="">Address:</label>
          <% addr.forEach(function(addr){ %>
            <h5 class="payment-mode-h5">
              <%= addr.street%>,<%= addr.city%>,<%= addr.zip%>,<%= addr.state%>,<%= addr.country%>
            </h5>
            <% }); %>
        </div>

      </div>

      <h4 class="product-details-title-h4">Product</h4>

      <div class="cod-order-product-container">
        <% cart.forEach(function(product){%>

          <div class="cod-order-product-container-1">
            <h5 class="payment-mode-h5">
              <%= product.title %>
            </h5>
            <label for="" class="product-qty">Qty: <h5 class="date-status-h5">
                <%= product.qty %>
              </h5></label>

          </div>
          <% }); %>
      </div>
    </div>
  </div>

 
  <button id="download1"  class="pdf-generate-cont">Download</button>
  <div class="view1">
    <a href="/index-after-payment" class="best-seller-viewall1" style="text-decoration:none;">Home Page</a>
  </div>

  <script src="html2canvas.min.js"></script>
  <script>
    document.getElementById("download1").onclick = function() {
        const screenshot = document.getElementById("convert");

        
        html2canvas(screenshot,{
          backgroundColor: '#ffffff',
        }).then((canvas)=>{
          
        const base = canvas.toDataURL("image/png");
        var anchor = document.createElement('a');
        anchor.setAttribute("href",base);
        anchor.setAttribute("download","Invoice.png");
        anchor.click();
        anchor.remove();
        })
    };
  </script>
    

    <!-- <div class="pdf-generate-cont" id="pdf-cont-hide">
      <div class="view1">
        <a href="/index-after-payment" class="best-seller-viewall1" style="text-decoration:none;">Home Page</a>
      </div>

      <div class="Pdf">
        <form action="/pdf/<%= orderId %>" method="post">
          <button type="submit" class="pdf-button">GENERATE PDF</button>
        </form>
      </div>
    </div> -->

  </div>



</body>

</html>