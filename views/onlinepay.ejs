<!DOCTYPE html>
<html lang="en">

<head>
       <meta charset="UTF-8">
       <meta http-equiv="X-UA-Compatible" content="IE=edge">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>Payment</title>
       <link rel="stylesheet" href="/home/index.css">
       <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
              integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
              crossorigin="anonymous">
       <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@300;500&family=Poppins:ital,wght@0,100;0,200;0,300;0,700;1,100&display=swap"
              rel="stylesheet">
       <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
              integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
              crossorigin="anonymous"></script>

       <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@300;500&family=Poppins:ital,wght@0,100;0,200;0,300;0,700;1,100&display=swap"
              rel="stylesheet">

</head>

<body>

       <div style="background-color: #ffefdc; height: 850px;">
              <div class="welcome-msg" style="background-color: blue;">
                     <p>Welcome to our store</p>
              </div>
              <h4  id="addr-error" ></h4>
              <!--   <img src=" /home/cart-icon2.png" alt=""> -->
              <!--       <h2 style="background-color: white;margin-left: 525px; box-shadow: 0px 0px 15px black; text-align: center; width: 21.5%;padding: 10px;margin-top: 80px;margin-bottom: 30px;border: solid black 1px;">USER DETAILS</h2>-->
              <div class="container"
                     style="background-color: white;box-shadow: 0px 0px 15px black;border-radius: 0%; margin: 0%; text-align: center; width: 60%;margin-bottom: 4px; padding: 20px;margin-top: 25px;margin-left: 275px; border: solid black 1px;;height: 720px; border-radius: 8px;">

                     <div class="inputs">
                            <label class="form-label" for="name"><b>
                                          <h1><i>Checkout</i></Checkout>
                                          </h1>
                                   </b></label>
                     </div>
                     <br><br>
                     <div>

                            <form action="/pay" method="post"  name="myform"  onsubmit="return(validation())">
                         
                                    
                                  
                                   <h2 style="text-align: center; font-size: 1.4rem;">Enter Address</h2><br><br>
                                   
                                   <div style="text-align: center;">
                                          <div>
                                          <label for="street" style="margin-right: 31px;">Street:</label>
                                          <input type="text" name="street" placeholder="Street" style="width: 60%;  margin-bottom: 15px;"><br>
                                   </div>
                                          <label for="city">City:</label>
                                          <input type="text" name="city" placeholder="City" style="margin-left: 45px;width: 60%; margin-bottom: 15px;"><br>
                                          <label for="state">State:</label>
                                          <input type="text" name="state" placeholder="State" style="margin-left: 38px;width: 60%;  margin-bottom: 15px;"><br>
                                          <label for="pincode">Pincode:</label>
                                          <input type="number" name="zip" placeholder="Pincode" style="margin-left: 18px;width: 60%;  margin-bottom: 15px;"><br>
                                          <label for="country">Country:</label>
                                          <input type="text" name="country" placeholder="Country" value="INDIA" readonly style="margin-left: 19px;width: 60%;"><br>



                                   </div>
                                   <br><br>

                                   <input type="hidden" id=rzp-text /><br/> 
                                   <button id="rzp-button1" class="button1" style=" margin: 0%;margin-top: 5px; padding: 8px;margin-left: 50pxpx;border-radius: 4%;border: solid black 1px; ">PAY</button>
                                
                                   <hr>

                                  
                            </form>
 
                     </div>




              </div>




              <script>
                     var error =document.getElementById('addr-error')
                     function validation(){
                        let a= document.forms["myform"]["street"].value;
                        let b= document.forms["myform"]["city"].value;
                        let c= document.forms["myform"]["state"].value;
                        let d= document.forms["myform"]["country"].value;
                        let e= document.forms["myform"]["zip"].value;
                        let x=a.trim();
                        let y=b.trim();
                        let z=c.trim();
                        let k=d.trim();
                        let j=e.trim();
                        let message1="Input box cannot be empty";
                        if(x=="" || y=="" || z=="" || k=="" || j==""){
                            error.style.display="inline-block";
                            document.getElementById('addr-error').innerHTML=message1;
                    
                            return false;
                    
                         }
                        }
                    
                    </script>
                    
                    

                    <script>
      
                     var xmlHttp = new XMLHttpRequest();
                     xmlHttp.onreadystatechange = function (res) {
                         if (xmlHttp.readyState === 4) {
                           res=JSON.parse(xmlHttp.responseText);
                           document.getElementById('rzp-text').value=res.sub.id;
                         }
                     }
                     xmlHttp.open("POST", url, true); // false for synchronous request
                     xmlHttp.setRequestHeader("Content-type", "application/json");
                     xmlHttp.send(JSON.stringify(params));
                     // }
                     
                     </script>
                     
                     
                     
                     
               
                   
                   
                     <div id=paymentDetails></div>
                     <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
                     <script>
                     document.getElementById('rzp-button1').onclick = function(e){
                         var config = {
                         "key": "rzp_test_sphx3FcTEfnWLr",  //Enter your razorpay key
                         "currency": "INR",
                         "amount":"150000",  // cart total
                         "name": "BOOKSELLA",
                         "description": "BOOKSELLA",
                         "image": "https://previews.123rf.com/images/subhanbaghirov/subhanbaghirov1605/subhanbaghirov160500087/56875269-vector-light-bulb-icon-with-concept-of-idea-brainstorming-idea-illustration-.jpg",
                         // "order_id": document.getElementById('rzp-text').value,
                         "order-id":"Math.floor(Date.now())",
                        
                         "callback_url": "http://localhost:3000/web/payment.html/success",
                         "prefill": {
                             "name": "Jay Parab",
                             "email": "jayparab@gmail.com",
                             "contact": "9004979676"
                         },
                         "theme": {
                             "color": "#4CBB17"
                         },
                          
                       
                     //     "handler": function (response){
                     //         document.getElementById('order-pay-id').value=response.razorpay_payment_id;
                     //  document.getElementById('order-id').value=response.razorpay_order_id;
                     //   document.getElementById('order-sig').value=response.razorpay_signature;
                     //     },
                     
                       
                     };
                         var rzp1 = new Razorpay(config);
                         rzp1.open();
                         e.preventDefault();
                     }
                     </script>
              




</body>




</html>